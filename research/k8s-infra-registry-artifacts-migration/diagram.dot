digraph G {
	graph [bb="0,0,889.5,371",
		compound=true,
		label="registry.k8s.io diagram",
		labelloc=t,
		lheight=0.21,
		lp="444.75,359.5",
		lwidth=2.31
	];
	node [label="\N"];
	IngressTraffic	[height=0.5,
		label="Ingress traffic",
		pos="227.5,330",
		width=2.1123];
	Implementation	[color=green,
		height=0.52778,
		label="Implementation (registry.k8s.io)\n(an Envoy go-WASM or ArtifactServer based implementation)",
		pos="227.5,242",
		shape=rectangle,
		width=6.3194];
	IngressTraffic -> Implementation	[pos="e,227.5,261.27 227.5,311.6 227.5,300.06 227.5,284.65 227.5,271.36"];
	ExternalDataSources	[height=0.52778,
		label="External Data Sources\n(such as https://bgp.he.net)",
		pos="134.5,19",
		shape=rectangle,
		width=2.9444];
	Datastore	[height=0.94444,
		label="Datastore\n(a SQL database\nor\nJSON files from a ConfigMap)",
		pos="134.5,123",
		shape=rectangle,
		width=3.1528];
	Datastore -> ExternalDataSources	[label="periodic fetch",
		lp="184,63.5",
		pos="e,134.5,38.106 134.5,88.884 134.5,75.836 134.5,61.001 134.5,48.448"];
	Implementation -> Datastore	[label="determine closest\ncloud provider from IP",
		lp="216.5,190",
		pos="e,126.83,157.34 155.01,222.83 147.38,218.18 140.57,212.34 135.5,205 128.05,194.23 125.89,180.58 126.15,167.57"];
	CloudProvider	[height=0.5,
		label="CloudProvider[n] container registry",
		pos="566.5,123",
		shape=rectangle,
		style=dotted,
		width=3.7778];
	Implementation -> CloudProvider	[label="302 redirect\npoint cloud provider at their hosted container registry",
		lp="511,190",
		pos="e,436.9,141 271.65,222.83 280.8,217.87 289.94,211.92 297.5,205 309.15,194.35 303.51,183.96 316.5,175 335.48,161.91 380.36,151.03 \
426.94,142.73"];
	K8sDotGCRDotIO	[height=0.5,
		label="k8s.gcr.io",
		pos="731.5,330",
		shape=rectangle,
		width=1.1806];
	CIP	[height=0.5,
		label="Container Image Promoter",
		pos="731.5,242",
		shape=rectangle,
		width=2.8889];
	K8sDotGCRDotIO -> CIP	[dir=both,
		label="Promote an image 1/2",
		lp="810.5,286.5",
		pos="s,731.5,311.6 e,731.5,260.08 731.5,301.34 731.5,291.38 731.5,280.15 731.5,270.22"];
	CIP -> CloudProvider	[label="Promote an image 2/2",
		lp="805.5,190",
		pos="e,653.55,141.12 729.96,223.96 727.76,209.2 722.43,188.2 709.5,175 696.66,161.89 680.23,152.14 663.11,144.89"];
}
